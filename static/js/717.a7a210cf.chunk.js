"use strict";(self.webpackChunkwallet_app=self.webpackChunkwallet_app||[]).push([[717],{6717:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var s=a(885),c=a(2791),i=a(5848),l={table:"StatisticsTable_table__yiYU9",wrapper:"StatisticsTable_wrapper__wDkD-",thead:"StatisticsTable_thead__4BbBy",thedTitl:"StatisticsTable_thedTitl__mNIVH",tbody:"StatisticsTable_tbody__UDAoE",colName:"StatisticsTable_colName__iERCd",colData:"StatisticsTable_colData__FR-5F",colored:"StatisticsTable_colored__KhgA3",divData:"StatisticsTable_divData__aUV5h",tbodyRow:"StatisticsTable_tbodyRow__qJAcl",botomTd:"StatisticsTable_botomTd__JkoMH",botomTdExpense:"StatisticsTable_botomTdExpense__sfDrL",tblList:"StatisticsTable_tblList__duG3P",tblItem:"StatisticsTable_tblItem__7RTPt",botomExpense:"StatisticsTable_botomExpense__sFBif",botomIncome:"StatisticsTable_botomIncome__xTzj9"},n=a(3329),r=function(e){return e.data.map((function(e,t){var a=e.name,s=e.total,c=(e.type,s.toString().slice(1));return(0,n.jsxs)("tr",{className:l.tbodyRow,children:[(0,n.jsxs)("td",{className:[l.colName,l["col-".concat(t+1)]].join(" "),children:[(0,n.jsx)("div",{style:{backgroundColor:i.p3[t]},className:[l.colored,l["colored-".concat(t+1)]].join(" ")}),(0,n.jsx)("div",{className:l.divData,children:a})]}),(0,n.jsx)("td",{className:[l.colData,l["col-".concat(t+1)]].join(" "),children:c})]},t)}))},o=function(e){var t=e.statData,a=t.expenseSummary,s=t.incomeSummary,c=t.preparedArray;return(0,n.jsx)("div",{className:l.container,children:(0,n.jsxs)("div",{className:l.wrapper,children:[(0,n.jsxs)("table",{className:l.table,children:[(0,n.jsx)("thead",{className:l.thead,children:(0,n.jsxs)("tr",{className:l.theadRow,children:[(0,n.jsx)("th",{className:l.thedTitl,children:"Category"}),(0,n.jsx)("th",{className:l.thedTitl,children:"Sum"})]})}),(0,n.jsx)("tbody",{className:l.tbody,children:(0,n.jsx)(r,{data:c})})]}),(0,n.jsxs)("ul",{className:l.tblList,children:[(0,n.jsxs)("li",{className:l.tblItem,children:[(0,n.jsx)("p",{className:l.botomName,children:"Expenses:"}),(0,n.jsx)("p",{className:[l.botomSum,l.botomExpense].join(" "),children:a})]}),(0,n.jsxs)("li",{className:l.tblItem,children:[(0,n.jsx)("p",{className:l.botomName,children:"Income:"}),(0,n.jsx)("p",{className:[l.botomSum,l.botomIncome].join(" "),children:s})]})]})]})})},d=a(8398),m=a(9683),h="StatisticChart_noStatMessage__SJCi4";d.kL.register(d.qi,d.u);var u={cutout:"70%"};function _(e){var t=e.statChartData,a=void 0===t?{}:t,l=e.periodTotal,r=void 0===l?0:l,o=e.expenseSummary,d=void 0===o?0:o,_=(0,c.useState)(""),x=(0,s.Z)(_,2),p=x[0],b=x[1],S=(0,c.useState)(""),j=(0,s.Z)(S,2),v=j[0],N=j[1],f=(0,c.useState)(""),g=(0,s.Z)(f,2),y=g[0],T=g[1],I=0!==d?d.toString().slice(1):0,D={labels:y,datasets:[{label:"# of Votes",data:p,backgroundColor:v,borderWidth:0}]};(0,c.useEffect)((function(){var e=a.map((function(e){return e.total})),t=a.map((function(e,t){return i.p3[t]})),s=a.map((function(e){return e.name}));b(e),N(t),T(s)}),[a,r]);var w=[{beforeDraw:function(e){var t=e.width,a=e.height,s=e.ctx;s.restore();var c=(a/160).toFixed(2);s.font=c+"em sans-serif",s.textBaseline="top";var i="\u20b4 ".concat(I," "),l=Math.round((t-s.measureText(i).width)/2),n=a/2.2;s.fillText(i,l,n),s.save()}}];return 0===r?(0,n.jsx)("h2",{className:h,children:"No statistic information"}):(0,n.jsx)(m.$I,{plugins:w,options:u,redraw:!0,data:D})}var x=a(9434),p=a(9961),b=a(114),S=a(5309),j={selectWrapper:"DateSelect_selectWrapper__dvNA8",select:"DateSelect_select__pSMb4",selectHeader:"DateSelect_selectHeader__Rrwkw",isChosen:"DateSelect_isChosen__1hJ+R",selectIcon:"DateSelect_selectIcon__5MX+p",selectBody:"DateSelect_selectBody__NO90N",isActive:"DateSelect_isActive__Rzkml",selectItem:"DateSelect_selectItem__e3X54",hiddenInput:"DateSelect_hiddenInput__t91xQ"},v=a(2710),N=function(){var e=(0,c.useState)(!1),t=(0,s.Z)(e,2),a=t[0],l=t[1],r=(0,c.useState)(!1),o=(0,s.Z)(r,2),d=o[0],m=o[1],h=(0,c.useState)(""),u=(0,s.Z)(h,2),_=u[0],b=u[1],S=(0,c.useState)(""),N=(0,s.Z)(S,2),f=N[0],g=N[1],y=(0,x.I0)(),T=new Date,I=T.getMonth()+1,D=i.vc.getKeyByValue(I),w=T.getFullYear(),C=function(e){var t=e.target.id;b(t)},k=function(e){var t=e.target.textContent;g(Number(t))};return(0,c.useEffect)((function(){var e=i.vc[_];e&&f&&y(p.h4.getSummaryThunk({month:e,year:f}))}),[y,_,f]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:j.selectWrapper,children:[(0,n.jsxs)("div",{onClick:function(){l(!a)},className:j.select,tabIndex:"0",id:"month",children:[(0,n.jsx)("div",{className:"Month"===_?j.selectHeader:[j.selectHeader,j.isChosen].join(" "),children:_||D}),(0,n.jsx)("svg",{className:j.selectIcon,width:"40",height:"19",children:(0,n.jsx)("use",{href:v.E7+"#icon-select-arrow"})}),(0,n.jsx)("ul",{className:a?[j.selectBody,j.isActive].join(" "):j.selectBody,children:i.Yi.map((function(e){return(0,n.jsx)("li",{onClick:C,className:j.selectItem,tabIndex:"0",id:e,children:e},e)}))}),(0,n.jsx)("input",{className:j.hiddenInput,name:"category",id:"category",placeholder:"Month",value:_,onChange:C,required:!0})]}),(0,n.jsxs)("div",{onClick:function(){m(!d)},className:j.select,tabIndex:"0",id:"year",children:[(0,n.jsx)("div",{className:"Year"===f?j.selectHeader:[j.selectHeader,j.isChosen].join(" "),children:f||w}),(0,n.jsx)("svg",{className:j.selectIcon,width:"40",height:"19",children:(0,n.jsx)("use",{href:v.E7+"#icon-select-arrow"})}),(0,n.jsx)("ul",{className:d?[j.selectBody,j.isActive].join(" "):j.selectBody,children:i.Iu.map((function(e){return(0,n.jsx)("li",{onClick:k,className:j.selectItem,tabIndex:"0",id:e,children:e},e)}))}),(0,n.jsx)("input",{className:j.hiddenInput,name:"category",id:"category",placeholder:"Year",value:f,onChange:k,required:!0})]})]})})},f="StatisticsPage_Statistics__oUcOq",g="StatisticsPage_statisticsTitle__bgxxB",y="StatisticsPage_chartWrapper__6PLD7",T="StatisticsPage_tableWrapper__1cgUp",I="StatisticsPage_noStatisticContainer__8EeBr",D="StatisticsPage_modalOpenSpan__HbGxe",w="StatisticsPage_noStatisticMessage__BOa98",C=function(){var e=(0,x.I0)(),t=(0,x.v9)(p.pX.H2),a=(0,x.v9)(p.pX.f1),l=t||{},r=l.categoriesSummary,d=l.expenseSummary,m=l.incomeSummary,h=l.periodTotal,u=null===r||void 0===r?void 0:r.filter((function(e){return"EXPENSE"===e.type})),j=(0,c.useState)(!1),v=(0,s.Z)(j,2),C=v[0],k=v[1],E=new Date,B=E.getMonth()+1,P=i.vc.getKeyByValue(B),A=E.getFullYear();(0,c.useEffect)((function(){var t=i.vc[P];e(p.h4.getSummaryThunk({month:t,year:A}))}),[A,e,P]);var H=function(){k(!C)};return(0,n.jsx)("div",{className:f,children:a.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:y,children:[(0,n.jsx)("h2",{className:g,children:"Statistics"}),t&&(0,n.jsx)(_,{statChartData:u,periodTotal:h,expenseSummary:d,incomeSummary:m})]}),(0,n.jsxs)("div",{className:T,children:[(0,n.jsx)(N,{}),t&&(0,n.jsx)(o,{statData:{preparedArray:u,incomeSummary:m,expenseSummary:d}})]})]}):(0,n.jsxs)("div",{className:I,children:[(0,n.jsxs)("h1",{className:w,children:["You should"," ",(0,n.jsx)("span",{className:D,tabIndex:"1",onClick:H,children:"add the first transaction"})," ","to show statistics information"]}),C&&(0,n.jsx)(b.ZP,{defaultButton:!1,handleToggle:H,children:(0,n.jsx)(S.Z,{onClose:H})})]})})}}}]);
//# sourceMappingURL=717.a7a210cf.chunk.js.map